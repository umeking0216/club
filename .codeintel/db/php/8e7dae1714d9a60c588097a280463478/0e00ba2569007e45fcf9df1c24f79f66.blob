<scope ilk="blob" lang="PHP" name="Command.php" src="/usr/share/pear/PEAR/Command.php"><import line="20" module="PEAR.php" /><import line="21" module="PEAR/Frontend.php" /><import line="22" module="PEAR/XMLParser.php" /><import line="126" module="_PEAR_Command_objects" /><import line="143" module="_PEAR_Command_objects" /><scope doc="PEAR command class, a simple factory class for administrative&#xA;commands.&#xA;&#xA;How to implement command classes:&#xA;&#xA;- The class must be called PEAR_Command_Nnn, installed in the&#xA;  &quot;PEAR/Common&quot; subdir, with a method called getCommands() that&#xA;  returns an array of the commands implemented by the class (see&#xA;  PEAR/Command/Install.php for an example).&#xA;&#xA;- The class must implement a run() function that is called with three&#xA;  params:&#xA;&#xA;   (string) command name&#xA;   (array)  assoc array with options, freely defined by each&#xA;            command, for example:&#xA;            array(&apos;force&apos; =&gt; true)&#xA;   (array)  list of the other parameters&#xA;&#xA;  The run() function returns a PEAR_CommandResponse object.  Use&#xA;  these methods to get information:&#xA;&#xA;   int getStatus()   Returns PEAR_COMMAND_(SUCCESS|FAILURE|PARTIAL)&#xA;                     *_PARTIAL means that you need to issue at least&#xA;                     one more command to complete the operation&#xA;                     (used for example for validation steps).&#xA;&#xA;   string getMessage()  Returns a message for the user.  Remember,&#xA;                        no HTML or other interface-specific markup.&#xA;&#xA;  If something unexpected happens, run() returns a PEAR error.&#xA;&#xA;- DON&apos;T OUTPUT ANYTHING! Return text for output instead.&#xA;&#xA;- DON&apos;T USE HTML! The text you return will be used from both Gtk,&#xA;  web and command-line interfaces, so for now, keep everything to&#xA;  plain text.&#xA;&#xA;- DON&apos;T USE EXIT OR DIE! Always use pear errors.  From static&#xA;  classes do PEAR::raiseError(), from other classes do&#xA;  $this-&gt;raiseError().&#xA;@category   pear&#xA;@package    PEAR&#xA;@author     Stig Bakken &lt;ssb@php.net&gt;&#xA;@author     Greg Beaver &lt;cellog@php.net&gt;&#xA;@copyright  1997-2009 The Authors&#xA;@license    http://opensource.org/licenses/bsd-license.php New BSD License&#xA;@version    Release: 1.10.12&#xA;@link       http://pear.php.net/package/PEAR&#xA;@since      Class available since Release 0.1" ilk="class" line="100" lineend="389" name="PEAR_Command"><scope attributes="public static" doc="&#xA;Get the right object for executing a command.&#xA;&lt;string&gt; $command  - The name of the command&#xA;&lt;object&gt; $config  - Instance of PEAR_Config object&#xA;Returns object  - the command object or a PEAR error&#xA;" ilk="function" line="112" lineend="135" name="factory" returns="object" signature="object &amp;factory(string $command, object &amp; $config)"><variable citdl="string" ilk="argument" line="112" name="command" /><variable citdl="object" ilk="argument" line="112" name="config" /><variable citdl="PEAR.raiseError()" line="121" name="a" /><variable line="133" name="obj" /><variable citdl="PEAR_Command.getFrontendObject()" line="132" name="ui" /><variable citdl="GLOBALS" line="124" name="class" /></scope><scope attributes="public static" doc="&#xA;}}}&#xA;{{{ &amp; getObject()&#xA;" ilk="function" line="139" lineend="152" name="getObject" returns="PEAR.raiseError()" signature="&amp;getObject($command)"><variable ilk="argument" line="139" name="command" /><variable citdl="PEAR_Config.singleton()" line="149" name="config" /><variable line="150" name="obj" /><variable citdl="PEAR_Command.getFrontendObject()" line="148" name="ui" /><variable citdl="GLOBALS" line="141" name="class" /></scope><scope attributes="public static" doc="&#xA;Get instance of frontend object.&#xA;Returns object|pear_error &#xA;" ilk="function" line="162" lineend="166" name="getFrontendObject" returns="object" signature="object &amp;getFrontendObject()"><variable citdl="PEAR_Frontend.singleton()" line="164" name="a" /></scope><scope attributes="public static" doc="&#xA;Load current frontend class.&#xA;&lt;string&gt; $uiclass  - Name of class implementing the frontend&#xA;Returns object  - the frontend object, or a PEAR error&#xA;" ilk="function" line="178" lineend="182" name="setFrontendClass" returns="object" signature="object &amp;setFrontendClass(string $uiclass)"><variable citdl="string" ilk="argument" line="178" name="uiclass" /><variable citdl="PEAR_Frontend.setFrontendClass()" line="180" name="a" /></scope><scope attributes="public static" doc="&#xA;Set current frontend.&#xA;&lt;string&gt; $uitype  - Name of the frontend type (for example &quot;CLI&quot;)&#xA;Returns object  - the frontend object, or a PEAR error&#xA;" ilk="function" line="194" lineend="198" name="setFrontendType" returns="object" signature="object setFrontendType(string $uitype)"><variable citdl="string" ilk="argument" line="194" name="uitype" /><variable citdl="string" line="196" name="uiclass" /></scope><scope attributes="public static" doc="&#xA;Scan through the Command directory looking for classes&#xA;and see what commands they implement.&#xA;&lt;bool&gt; (optional)  - if FALSE (default), the new list of&#xA;              commands should replace the current one.  If TRUE,&#xA;              new entries will be merged with old.&#xA;&lt;string&gt; (optional)  - where (what directory) to look for&#xA;              classes, defaults to the Command subdirectory of&#xA;              the directory from where this file (__FILE__) is&#xA;              included.&#xA;Returns bool  - TRUE on success, a PEAR error on failure&#xA;" ilk="function" line="218" lineend="288" name="registerCommands" returns="bool" signature="bool registerCommands($merge = false, $dir = null)"><variable default="false" ilk="argument" line="218" name="merge" /><variable default="null" ilk="argument" line="218" name="dir" /><variable citdl="parser.getData()" line="248" name="implements" /><variable citdl="desc[]" line="272" name="option" /><variable citdl="substr()" line="240" name="f" /><variable citdl="PEAR_XMLParser" line="220" name="parser" /><variable citdl="desc" line="262" name="shortcut" /><variable line="249" name="command" /><variable line="235" name="file" /><variable line="272" name="oname" /><variable citdl="string" line="241" name="class" /><variable line="227" name="dp" /><variable citdl="implements[]" line="249" name="desc" /></scope><scope attributes="public static" doc="&#xA;Get the list of currently supported commands, and what&#xA;classes implement them.&#xA;Returns array  - command =&gt; implementing class&#xA;" ilk="function" line="299" lineend="305" name="getCommands" returns="array" signature="array getCommands()" /><scope attributes="public static" doc="&#xA;Get the list of command shortcuts.&#xA;Returns array  - shortcut =&gt; command&#xA;" ilk="function" line="315" lineend="321" name="getShortcuts" returns="array" signature="array getShortcuts()" /><scope attributes="public static" doc="&#xA;Compiles arguments for getopt.&#xA;&lt;string&gt; $command  - command to get optstring for&#xA;&lt;string&gt; $short_args  - (reference) short getopt format&#xA;&lt;array&gt; $long_args  - (reference) long getopt format&#xA;Returns void &#xA;" ilk="function" line="335" lineend="348" name="getGetoptArgs" signature="void getGetoptArgs(string $command, string &amp; $short_args, array &amp; $long_args)"><variable citdl="string" ilk="argument" line="335" name="command" /><variable citdl="string" ilk="argument" line="335" name="short_args" /><variable citdl="array" ilk="argument" line="335" name="long_args" /><variable citdl="PEAR_Command.getObject()" line="346" name="obj" /></scope><scope attributes="public static" doc="&#xA;Get description for a command.&#xA;&lt;string&gt; $command  - Name of the command&#xA;Returns string  - command description&#xA;" ilk="function" line="360" lineend="366" name="getDescription" returns="string" signature="string getDescription(string $command)"><variable citdl="string" ilk="argument" line="360" name="command" /></scope><scope attributes="public static" doc="&#xA;Get help for command.&#xA;&lt;string&gt; $command  - Name of the command to return help for&#xA;" ilk="function" line="376" lineend="387" name="getHelp" returns="obj.getHelp()" signature="getHelp(string $command)"><variable citdl="string" ilk="argument" line="376" name="command" /><variable citdl="PEAR_Command.getObject()" line="383" name="obj" /><variable citdl="PEAR_Command.getCommands()" line="378" name="cmds" /></scope></scope></scope>
<scope ilk="blob" lang="PHP" name="Postinstallscript.php" src="/usr/share/pear/PEAR/Task/Postinstallscript.php"><import line="18" module="PEAR/Task/Common.php" /><scope classrefs="PEAR_Task_Common" doc="Implements the postinstallscript file task.&#xA;&#xA;Note that post-install scripts are handled separately from installation, by the&#xA;&quot;pear run-scripts&quot; command&#xA;&#xA;@category  pear&#xA;@package   PEAR&#xA;@author    Greg Beaver &lt;cellog@php.net&gt;&#xA;@copyright 1997-2009 The Authors&#xA;@license   http://opensource.org/licenses/bsd-license.php New BSD License&#xA;@version   Release: 1.10.12&#xA;@link      http://pear.php.net/package/PEAR&#xA;@since     Class available since Release 1.4.0a1" ilk="class" line="34" lineend="350" name="PEAR_Task_Postinstallscript"><variable attributes="public" citdl="string" line="36" name="type" /><variable attributes="public" citdl="str_replace()" line="37" name="_class" /><variable attributes="public" citdl="xml" line="38" name="_params" /><variable attributes="public" line="39" name="_obj" /><variable attributes="public" citdl="PEAR_PackageFile_v2" doc="@var PEAR_PackageFile_v2" line="44" name="_pkg" /><variable attributes="public" citdl="contents" line="45" name="_contents" /><variable attributes="public" citdl="PEAR_TASK_INSTALL" line="46" name="phase" /><scope attributes="public static" doc="Validate the raw xml at parsing-time.&#xA;&#xA;This also attempts to validate the script to make sure it meets the criteria&#xA;for a post-install script&#xA;&#xA;@param  PEAR_PackageFile_v2&#xA;@param  array The XML contents of the &lt;postinstallscript&gt; tag&#xA;@param  PEAR_Config&#xA;@param  array the entire parsed &lt;file&gt; tag" ilk="function" line="59" lineend="238" name="validateXml" returns="array()" signature="validateXml($pkg, $xml, $config, $fileXml)"><variable ilk="argument" line="59" name="pkg" /><variable ilk="argument" line="59" name="xml" /><variable ilk="argument" line="59" name="config" /><variable ilk="argument" line="59" name="fileXml" /><variable citdl="array()" line="128" name="definedparams" /><variable citdl="array()" line="114" name="methods" /><variable citdl="string" line="80" name="warnings" /><variable citdl="param" line="192" name="subparams" /><variable citdl="pkg.getTasksNs()" line="129" name="tasksNamespace" /><variable citdl="pkg.analyzeSourceCode()" line="77" name="analysis" /><variable citdl="analysis[]" line="115" name="method" /><variable citdl="pkg.getValidationWarnings()[]" line="81" name="warn" /><variable citdl="xml" line="136" name="params" /><variable citdl="params[]" line="140" name="param" /><variable citdl="pkg.getFileContents()" line="66" name="file" /><variable citdl="subparams[]" line="196" name="subparam" /><variable citdl="analysis" line="94" name="class" /></scope><scope attributes="public" doc="&#xA;Initialize a task instance with the parameters&#xA;&lt;array&gt; $xml  - raw, parsed xml&#xA;&lt;array&gt; $fileattribs  - attributes from the &lt;file&gt; tag containing&#xA;                                this task&#xA;&lt;string|null&gt; $lastversion  - last installed version of this package,&#xA;                                if any (useful for upgrades)&#xA;" ilk="function" line="248" lineend="255" name="init" signature="init(array $xml, array $fileattribs, $lastversion)"><variable citdl="array" ilk="argument" line="248" name="xml" /><variable citdl="array" ilk="argument" line="248" name="fileattribs" /><variable ilk="argument" line="248" name="lastversion" /></scope><variable citdl="fileattribs" line="251" name="_filename" /><variable citdl="lastversion" line="254" name="_lastversion" /><scope attributes="public" doc="&#xA;Strip the tasks: namespace from internal params&#xA;Access private&#xA;" ilk="function" line="262" lineend="287" name="_stripNamespace" returns="newparams" signature="_stripNamespace($params = null)"><variable default="null" ilk="argument" line="262" name="params" /><variable line="269" name="i" /><variable citdl="array()" line="277" name="newparams" /><variable citdl="this._stripNamespace()" line="269" name="param" /></scope><scope attributes="public" doc="&#xA;Unlike other tasks, the installed file name is passed in instead of the&#xA;file contents, because this task is handled post-installation&#xA;&lt;mixed&gt; $pkg  - PEAR_PackageFile_v1|PEAR_PackageFile_v2&#xA;&lt;string&gt; $contents  - file name&#xA;&lt;string&gt; $dest  - the eventual final file location (informational only)&#xA;Returns bool|pear_error  - false to skip this file, PEAR_Error to fail&#xA;                        (use $this-&gt;throwError)&#xA;" ilk="function" line="300" lineend="337" name="startSession" returns="bool" signature="bool startSession(mixed $pkg, string $contents, string $dest)"><variable citdl="mixed" ilk="argument" line="300" name="pkg" /><variable citdl="string" ilk="argument" line="300" name="contents" /><variable citdl="string" ilk="argument" line="300" name="dest" /><variable citdl="this._obj.init()" line="324" name="res" /></scope><scope attributes="public static" doc="&#xA;No longer used&#xA;See    PEAR_PackageFile_v2::runPostinstallScripts()&#xA;&lt;array&gt; an  - array of tasks&#xA;&lt;string&gt; install  - or upgrade&#xA;Access protected&#xA;" ilk="function" line="347" lineend="349" name="run" signature="run($tasks)"><variable ilk="argument" line="347" name="tasks" /></scope></scope></scope>